# çŸ¥è¯†æ˜Ÿçƒè®­ç»ƒè¥é€€æ¬¾ç³»ç»Ÿ v0 - å‰æœŸå‡†å¤‡æ¸…å•

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **ç‰ˆæœ¬**: v0.1
- **åˆ›å»ºæ—¥æœŸ**: 2025-10-27
- **ç›®æ ‡**: ç¡®ä¿é¡¹ç›®èƒ½å¤Ÿé¡ºåˆ©å¯åŠ¨å’Œéƒ¨ç½²
- **é¢„è®¡å‡†å¤‡æ—¶é—´**: 1å¤©

---

## ä¸€ã€å¼€å‘ç¯å¢ƒå‡†å¤‡

### 1.1 è½¯ä»¶ç¯å¢ƒæ¸…å•

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” | å®‰è£…éªŒè¯å‘½ä»¤ |
|------|---------|------|-------------|
| **Node.js** | 18+ (LTS) | åç«¯è¿è¡Œç¯å¢ƒ | `node -v` |
| **npm** | 9+ | ä¾èµ–åŒ…ç®¡ç† | `npm -v` |
| **Git** | 2.x+ | ç‰ˆæœ¬æ§åˆ¶ | `git --version` |
| **VS Code** | æœ€æ–°ç‰ˆ | ä»£ç ç¼–è¾‘å™¨ | - |

**å®‰è£…æ­¥éª¤**:
```bash
# 1. å®‰è£… Node.js (è®¿é—® nodejs.org ä¸‹è½½ LTS ç‰ˆæœ¬)
# Windows: ä¸‹è½½ .msi å®‰è£…åŒ…
# éªŒè¯å®‰è£…
node -v   # åº”æ˜¾ç¤º v18.x.x æˆ–æ›´é«˜
npm -v    # åº”æ˜¾ç¤º 9.x.x æˆ–æ›´é«˜

# 2. å®‰è£… Git (è®¿é—® git-scm.com)
git --version

# 3. é…ç½® npm å›½å†…é•œåƒ (å¯é€‰,æå‡ä¸‹è½½é€Ÿåº¦)
npm config set registry https://registry.npmmirror.com
```

### 1.2 VS Code æ¨èæ’ä»¶

å®‰è£…ä»¥ä¸‹æ’ä»¶æå‡å¼€å‘æ•ˆç‡:

- **Vue Language Features (Volar)** - Vue 3 è¯­æ³•æ”¯æŒ
- **ESLint** - ä»£ç è§„èŒƒæ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **REST Client** - API æµ‹è¯•
- **GitLens** - Git å¢å¼º

---

## äºŒã€çŸ¥è¯†æ˜Ÿçƒé…ç½®å‡†å¤‡ â­ æ ¸å¿ƒ

### 2.1 è·å–çŸ¥è¯†æ˜Ÿçƒ Cookie

**é‡è¦æ€§**: â­â­â­â­â­ (æœ€æ ¸å¿ƒçš„é…ç½®,æ²¡æœ‰Cookieæ— æ³•è°ƒç”¨API)

**æ­¥éª¤**:

1. **æ‰“å¼€çŸ¥è¯†æ˜Ÿçƒç½‘é¡µç‰ˆ**
   - è®¿é—®: https://wx.zsxq.com/dweb2/index
   - ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•

2. **æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - æŒ‰ `F12` æˆ– `å³é”® â†’ æ£€æŸ¥`
   - åˆ‡æ¢åˆ° `Network` (ç½‘ç»œ) æ ‡ç­¾é¡µ

3. **æŠ“å– API è¯·æ±‚**
   - åˆ·æ–°é¡µé¢æˆ–ç‚¹å‡»ä»»æ„åŠŸèƒ½
   - åœ¨ Network ä¸­æ‰¾åˆ°ä»»æ„ `api.zsxq.com` çš„è¯·æ±‚
   - ç‚¹å‡»è¯¥è¯·æ±‚,æŸ¥çœ‹ `Request Headers`

4. **å¤åˆ¶ä»¥ä¸‹å­—æ®µ** (éœ€è¦å®Œæ•´å¤åˆ¶):
   ```
   x-timestamp: 1730000000000
   authorization: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
   x-signature: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
   x-request-id: xxxxxxxxxxxxxxxxxxxx
   ```

5. **æ‰¾åˆ°åœˆå­ID (GROUP_ID)**
   - åœ¨ Network ä¸­æ‰¾åˆ° `/v2/groups/{æ•°å­—}/...` è¿™æ ·çš„è¯·æ±‚
   - å¤åˆ¶ `groups/` åé¢çš„æ•°å­—,ä¾‹å¦‚: `15555411412112`

**ç¤ºä¾‹æˆªå›¾ä½ç½®**:
```
Request URL: https://api.zsxq.com/v2/groups/15555411412112/checkins
Request Headers:
  â”œâ”€ x-timestamp: 1730000000000
  â”œâ”€ authorization: 12345678-xxxx-xxxx-xxxx-xxxxxxxxxxxx
  â”œâ”€ x-signature: abc123def456...
  â””â”€ x-request-id: req_123456789
```

**æ³¨æ„äº‹é¡¹**:
- âš ï¸ Cookie æœ‰æ•ˆæœŸçº¦ 7-30 å¤©,è¿‡æœŸåéœ€è¦é‡æ–°æŠ“å–
- âš ï¸ ä¸è¦æ³„éœ² Cookie,å¦åˆ™ä»–äººå¯ä»¥æ“ä½œä½ çš„æ˜Ÿçƒ
- âœ… å»ºè®®ç”¨æ–‡æœ¬æ–‡ä»¶ä¸´æ—¶ä¿å­˜,éƒ¨ç½²æ—¶å†å¡«å…¥ `.env`

---

### 2.2 æµ‹è¯•çŸ¥è¯†æ˜Ÿçƒ API å¯ç”¨æ€§ (å¯é€‰)

**ä½¿ç”¨ Postman æˆ– REST Client æµ‹è¯•**:

```http
### æµ‹è¯•è·å–è®­ç»ƒè¥åˆ—è¡¨
GET https://api.zsxq.com/v2/groups/15555411412112/checkins?scope=over&count=10
x-timestamp: {{ä½ çš„timestamp}}
authorization: {{ä½ çš„authorization}}
x-signature: {{ä½ çš„signature}}
x-request-id: test_{{$timestamp}}
content-type: application/json
user-agent: xiaomiquan/5.28.1

# é¢„æœŸå“åº”: HTTP 200
# {
#   "succeeded": true,
#   "resp_data": { "checkins": [...] }
# }
```

**å¦‚æœè¿”å› 401 Unauthorized**: Cookie å·²è¿‡æœŸæˆ–é”™è¯¯,éœ€é‡æ–°æŠ“å–

---

## ä¸‰ã€æœåŠ¡å™¨å‡†å¤‡ (ç”Ÿäº§éƒ¨ç½²ç”¨)

### 3.1 æœåŠ¡å™¨é…ç½®è¦æ±‚

**æ¨èé…ç½®**:
- **CPU**: 2æ ¸
- **å†…å­˜**: 4GB
- **ç£ç›˜**: 50GB
- **å¸¦å®½**: 5Mbps+
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04 / 22.04 LTS

**äº‘æœåŠ¡å™¨æ¨è**:
- è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨ (99å…ƒ/å¹´)
- é˜¿é‡Œäº‘ ECS
- åä¸ºäº‘

### 3.2 åŸŸåå‡†å¤‡

**éœ€è¦å‡†å¤‡**:
- åŸŸå: `zsxq.dc401.com`
- DNS è§£æ: å°†åŸŸåæŒ‡å‘æœåŠ¡å™¨ IP

**DNS è§£æé…ç½®**:
```
ç±»å‹: A è®°å½•
ä¸»æœºè®°å½•: zsxq
è®°å½•å€¼: ä½ çš„æœåŠ¡å™¨å…¬ç½‘IP (å¦‚ 123.45.67.89)
TTL: 600
```

**éªŒè¯è§£æç”Ÿæ•ˆ**:
```bash
ping zsxq.dc401.com
# åº”æ˜¾ç¤ºä½ çš„æœåŠ¡å™¨IP
```

### 3.3 æœåŠ¡å™¨è½¯ä»¶ç¯å¢ƒå‡†å¤‡

**ç™»å½•æœåŠ¡å™¨åæ‰§è¡Œ**:

```bash
# 1. æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# 2. å®‰è£… Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# éªŒè¯å®‰è£…
node -v   # åº”æ˜¾ç¤º v18.x.x
npm -v

# 3. å®‰è£… Nginx
sudo apt install -y nginx

# å¯åŠ¨ Nginx
sudo systemctl start nginx
sudo systemctl enable nginx  # å¼€æœºè‡ªå¯

# éªŒè¯ Nginx
curl http://localhost  # åº”æ˜¾ç¤º Nginx æ¬¢è¿é¡µé¢

# 4. å®‰è£… PM2 (è¿›ç¨‹å®ˆæŠ¤)
sudo npm install -g pm2

# éªŒè¯ PM2
pm2 --version

# 5. å®‰è£… Certbot (HTTPS è¯ä¹¦)
sudo apt install -y certbot python3-certbot-nginx
```

---

## å››ã€API Key å‡†å¤‡

### 4.1 ç”Ÿæˆ API Key

**ç”¨é€”**: å‰ç«¯è°ƒç”¨åç«¯æ¥å£æ—¶çš„é‰´æƒå‡­è¯

**ç”Ÿæˆæ–¹å¼**:

**æ–¹æ³•1: ä½¿ç”¨åœ¨çº¿å·¥å…·**
- è®¿é—®: https://www.uuidgenerator.net/
- ç”Ÿæˆä¸€ä¸ª UUID v4
- ç¤ºä¾‹: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`

**æ–¹æ³•2: ä½¿ç”¨ Node.js ç”Ÿæˆ**
```bash
node -e "console.log(require('crypto').randomUUID())"
# è¾“å‡º: a1b2c3d4-e5f6-7890-abcd-ef1234567890
```

**é…ç½®ä½ç½®**:
- åç«¯: å†™å…¥ `.env` æ–‡ä»¶çš„ `API_KEY` å­—æ®µ
- å‰ç«¯: å†™å…¥ `.env.production` æ–‡ä»¶çš„ `VITE_API_KEY` å­—æ®µ

---

## äº”ã€ç¯å¢ƒå˜é‡æ¨¡æ¿å‡†å¤‡

### 5.1 åç«¯ .env æ–‡ä»¶æ¨¡æ¿

åˆ›å»º `zsxq-refund-api/.env` æ–‡ä»¶:

```bash
# æœåŠ¡é…ç½®
PORT=3013
NODE_ENV=production

# çŸ¥è¯†æ˜Ÿçƒé…ç½®
ZSXQ_GROUP_ID=15555411412112
ZSXQ_TIMESTAMP=1730000000000
ZSXQ_AUTHORIZATION=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
ZSXQ_SIGNATURE=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# API Key é‰´æƒ
API_KEY=a1b2c3d4-e5f6-7890-abcd-ef1234567890

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
LOG_RETENTION_DAYS=3
```

### 5.2 å‰ç«¯ .env.production æ–‡ä»¶æ¨¡æ¿

åˆ›å»º `zsxq-refund-web/.env.production` æ–‡ä»¶:

```bash
# API åŸºç¡€è·¯å¾„ (éƒ¨ç½²åˆ°åŒåŸŸåä¸‹,ä½¿ç”¨ç›¸å¯¹è·¯å¾„)
VITE_API_BASE_URL=/api

# API Key (éœ€ä¸åç«¯ä¿æŒä¸€è‡´)
VITE_API_KEY=a1b2c3d4-e5f6-7890-abcd-ef1234567890
```

---

## å…­ã€Git ä»“åº“å‡†å¤‡

### 6.1 åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„

```bash
# åœ¨å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º v0 å­ç›®å½•
mkdir -p v0/zsxq-refund-api
mkdir -p v0/zsxq-refund-web
mkdir -p v0/docs
mkdir -p v0/deploy
```

### 6.2 åˆ›å»º .gitignore æ–‡ä»¶

**åç«¯ .gitignore** (`v0/zsxq-refund-api/.gitignore`):
```
# ä¾èµ–
node_modules/

# ç¯å¢ƒå˜é‡ (åŒ…å«æ•æ„Ÿä¿¡æ¯,ä¸æäº¤)
.env

# æ—¥å¿—
logs/
*.log

# ç¼–è¾‘å™¨
.vscode/
.idea/

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db
```

**å‰ç«¯ .gitignore** (`v0/zsxq-refund-web/.gitignore`):
```
# ä¾èµ–
node_modules/

# æ„å»ºäº§ç‰©
dist/
dist-ssr/
*.local

# ç¯å¢ƒå˜é‡ (ç”Ÿäº§ç¯å¢ƒé…ç½®ä¸æäº¤)
.env.production.local

# ç¼–è¾‘å™¨
.vscode/
.idea/

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
```

---

## ä¸ƒã€å¼€å‘å·¥å…·å‡†å¤‡

### 7.1 API æµ‹è¯•å·¥å…·

**æ¨èå·¥å…· (é€‰ä¸€ä¸ªå³å¯)**:

1. **Postman** (æ¡Œé¢ç«¯)
   - ä¸‹è½½: https://www.postman.com/downloads/
   - åŠŸèƒ½: å®Œæ•´çš„ API æµ‹è¯•ç¯å¢ƒ

2. **REST Client** (VS Code æ’ä»¶)
   - å®‰è£…: VS Code æ’ä»¶å•†åº—æœç´¢ "REST Client"
   - åŠŸèƒ½: åœ¨ `.http` æ–‡ä»¶ä¸­ç›´æ¥æµ‹è¯• API

**åˆ›å»ºæµ‹è¯•æ–‡ä»¶** `v0/docs/api-test.http`:
```http
### 1. æµ‹è¯•è·å–è®­ç»ƒè¥åˆ—è¡¨
GET {{baseUrl}}/api/camps?scope=over&count=10
X-API-Key: {{apiKey}}

### 2. æµ‹è¯•ç”Ÿæˆé€€æ¬¾åå•
POST {{baseUrl}}/api/camps/2424424541/refund-list
X-API-Key: {{apiKey}}
Content-Type: application/json

{
  "required_days": 7
}
```

### 7.2 æ–‡æ¡£ç¼–å†™å·¥å…·

**æ¨è**:
- Markdown ç¼–è¾‘å™¨: Typora / MarkText
- æµç¨‹å›¾å·¥å…·: draw.io / excalidraw
- æ€ç»´å¯¼å›¾: XMind

---

## å…«ã€æŠ€æœ¯æ–‡æ¡£å‡†å¤‡

### 8.1 éœ€è¦å‡†å¤‡çš„æ–‡æ¡£ (å·²å®Œæˆ âœ…)

- âœ… **éœ€æ±‚æ–‡æ¡£**: `docs/v0/éœ€æ±‚æ–‡æ¡£-ç®€ç‰ˆ.md`
- âœ… **æŠ€æœ¯æ–¹æ¡ˆ**: `docs/v0/æŠ€æœ¯æ–¹æ¡ˆ-è¯¦ç»†ç‰ˆ.md`
- âœ… **å‰æœŸå‡†å¤‡æ¸…å•**: `docs/v0/å‰æœŸå‡†å¤‡æ¸…å•.md` (æœ¬æ–‡æ¡£)

### 8.2 éœ€è¦è¡¥å……çš„æ–‡æ¡£ (å¼€å‘æ—¶åˆ›å»º)

- âšª **éƒ¨ç½²æ‰‹å†Œ**: `v0/docs/éƒ¨ç½²æ‰‹å†Œ.md` (æœåŠ¡å™¨éƒ¨ç½²æ­¥éª¤)
- âšª **API æ–‡æ¡£**: `v0/docs/APIæ–‡æ¡£.md` (æ¥å£è¯¦ç»†è¯´æ˜)
- âšª **æµ‹è¯•æŠ¥å‘Š**: `v0/docs/æµ‹è¯•æŠ¥å‘Š.md` (åŠŸèƒ½éªŒæ”¶)

---

## ä¹ã€çŸ¥è¯†å‚¨å¤‡å‡†å¤‡ (å¯é€‰)

### 9.1 åç«¯å¼€å‘çŸ¥è¯†

**å¿…å¤‡çŸ¥è¯†**:
- Node.js åŸºç¡€ (æ¨¡å—ã€å¼‚æ­¥)
- Express.js æ¡†æ¶ (è·¯ç”±ã€ä¸­é—´ä»¶)
- HTTP è¯·æ±‚ (Axios)
- ç¯å¢ƒå˜é‡ç®¡ç† (dotenv)

**å­¦ä¹ èµ„æº**:
- Express.js å®˜æ–¹æ–‡æ¡£: https://expressjs.com/
- Node.js ä¸­æ–‡ç½‘: https://nodejs.cn/

### 9.2 å‰ç«¯å¼€å‘çŸ¥è¯†

**å¿…å¤‡çŸ¥è¯†**:
- Vue 3 Composition API
- Element Plus ç»„ä»¶åº“
- Axios æ‹¦æˆªå™¨
- Excel å¯¼å‡º (xlsx.js)
- å›¾ç‰‡ç”Ÿæˆ (html2canvas)

**å­¦ä¹ èµ„æº**:
- Vue 3 å®˜æ–¹æ–‡æ¡£: https://cn.vuejs.org/
- Element Plus å®˜æ–¹æ–‡æ¡£: https://element-plus.org/zh-CN/

---

## åã€å‡†å¤‡å·¥ä½œæ£€æŸ¥æ¸…å•

### 10.1 å¼€å‘ç¯å¢ƒæ£€æŸ¥

- [ ] Node.js 18+ å®‰è£…å®Œæˆ
- [ ] npm å›½å†…é•œåƒé…ç½®å®Œæˆ
- [ ] Git å®‰è£…å®Œæˆ
- [ ] VS Code åŠæ’ä»¶å®‰è£…å®Œæˆ

### 10.2 çŸ¥è¯†æ˜Ÿçƒé…ç½®æ£€æŸ¥

- [ ] çŸ¥è¯†æ˜Ÿçƒç®¡ç†å‘˜è´¦å·å·²ç™»å½•
- [ ] Cookie å·²æŠ“å–å¹¶ä¿å­˜ (x-timestamp, authorization, x-signature)
- [ ] åœˆå­ ID (GROUP_ID) å·²è·å–
- [ ] å·²æµ‹è¯• Cookie æœ‰æ•ˆæ€§ (å¯é€‰)

### 10.3 æœåŠ¡å™¨å‡†å¤‡æ£€æŸ¥ (ç”Ÿäº§ç¯å¢ƒ)

- [ ] æœåŠ¡å™¨å·²è´­ä¹°å¹¶è·å– IP
- [ ] åŸŸå `zsxq.dc401.com` å·²è§£æåˆ°æœåŠ¡å™¨ IP
- [ ] æœåŠ¡å™¨ SSH è¿æ¥æ­£å¸¸
- [ ] Node.jsã€Nginxã€PM2ã€Certbot å·²å®‰è£…

### 10.4 é…ç½®å‡†å¤‡æ£€æŸ¥

- [ ] API Key å·²ç”Ÿæˆ
- [ ] åç«¯ `.env.example` æ¨¡æ¿å·²åˆ›å»º
- [ ] å‰ç«¯ `.env.production` æ¨¡æ¿å·²åˆ›å»º
- [ ] `.gitignore` æ–‡ä»¶å·²åˆ›å»º

### 10.5 é¡¹ç›®ç›®å½•æ£€æŸ¥

- [ ] `v0/zsxq-refund-api/` ç›®å½•å·²åˆ›å»º
- [ ] `v0/zsxq-refund-web/` ç›®å½•å·²åˆ›å»º
- [ ] `v0/docs/` ç›®å½•å·²åˆ›å»º
- [ ] `v0/deploy/` ç›®å½•å·²åˆ›å»º

---

## åä¸€ã€å¿«é€Ÿå¯åŠ¨æŒ‡å— (å®Œæˆå‡†å¤‡å)

### 11.1 æœ¬åœ°å¼€å‘ç¯å¢ƒå¯åŠ¨

**åç«¯å¯åŠ¨**:
```bash
cd v0/zsxq-refund-api

# 1. åˆå§‹åŒ–é¡¹ç›®
npm init -y
npm install express axios dotenv winston express-rate-limit

# 2. åˆ›å»º .env æ–‡ä»¶å¹¶å¡«å…¥é…ç½®
cp .env.example .env
vim .env

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
node src/app.js
# æˆ–ä½¿ç”¨ nodemon è‡ªåŠ¨é‡å¯
npm install -g nodemon
nodemon src/app.js
```

**å‰ç«¯å¯åŠ¨**:
```bash
cd v0/zsxq-refund-web

# 1. åˆ›å»º Vue é¡¹ç›®
npm create vite@latest . -- --template vue
npm install

# 2. å®‰è£…ä¾èµ–
npm install element-plus axios vue-router xlsx html2canvas

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# è®¿é—®: http://localhost:5173
```

### 11.2 ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**åç«¯éƒ¨ç½²**:
```bash
# 1. å…‹éš†ä»£ç åˆ°æœåŠ¡å™¨
git clone <ä»“åº“åœ°å€> /var/www/zsxq-refund
cd /var/www/zsxq-refund/v0/zsxq-refund-api

# 2. å®‰è£…ä¾èµ–
npm install --production

# 3. é…ç½® .env æ–‡ä»¶
cp .env.example .env
vim .env  # å¡«å…¥ç”Ÿäº§ç¯å¢ƒé…ç½®

# 4. ä½¿ç”¨ PM2 å¯åŠ¨
pm2 start src/app.js --name zsxq-api
pm2 save
pm2 startup
```

**å‰ç«¯éƒ¨ç½²**:
```bash
cd /var/www/zsxq-refund/v0/zsxq-refund-web

# 1. å®‰è£…ä¾èµ–
npm install

# 2. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 3. é…ç½® Nginx
sudo vim /etc/nginx/sites-available/zsxq.dc401.com
# (é…ç½®å†…å®¹è§éƒ¨ç½²æ‰‹å†Œ)

# 4. å¯åŠ¨ Nginx
sudo nginx -t  # æµ‹è¯•é…ç½®
sudo systemctl reload nginx
```

---

## åäºŒã€å¸¸è§é—®é¢˜é¢„æ¡ˆ

### 12.1 Cookie è¿‡æœŸå¤„ç†

**ç°è±¡**: API è¿”å› 401 Unauthorized

**è§£å†³æ–¹æ¡ˆ**:
1. é‡æ–°ç™»å½•çŸ¥è¯†æ˜Ÿçƒç½‘é¡µç‰ˆ
2. æŒ‰ç…§ [2.1 è·å–çŸ¥è¯†æ˜Ÿçƒ Cookie](#21-è·å–çŸ¥è¯†æ˜Ÿçƒ-cookie) æ­¥éª¤é‡æ–°æŠ“å–
3. æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„ Cookie é…ç½®
4. é‡å¯åç«¯æœåŠ¡: `pm2 restart zsxq-api`

### 12.2 API é™æµå¤„ç†

**ç°è±¡**: çŸ¥è¯†æ˜Ÿçƒè¿”å› 429 Too Many Requests

**è§£å†³æ–¹æ¡ˆ**:
- åç«¯å·²å®ç°åˆ†é¡µé—´éš” 200ms
- å¦‚ä»è§¦å‘é™æµ,å¢åŠ å»¶è¿Ÿåˆ° 500ms

### 12.3 å‰ç«¯è·¨åŸŸé—®é¢˜

**å¼€å‘ç¯å¢ƒ**: åœ¨ `vite.config.js` ä¸­é…ç½®ä»£ç†
```javascript
export default {
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3013',
        changeOrigin: true
      }
    }
  }
}
```

**ç”Ÿäº§ç¯å¢ƒ**: Nginx åå‘ä»£ç†è‡ªåŠ¨è§£å†³è·¨åŸŸ

---

## åä¸‰ã€æ—¶é—´è§„åˆ’å»ºè®®

### 13.1 å‡†å¤‡é˜¶æ®µ (Day 0: 4-6 å°æ—¶)

**ä¸Šåˆ (2-3 å°æ—¶)**:
- [ ] å®‰è£…å¼€å‘ç¯å¢ƒ (Node.jsã€VS Code ç­‰)
- [ ] æŠ“å–çŸ¥è¯†æ˜Ÿçƒ Cookie
- [ ] ç”Ÿæˆ API Key

**ä¸‹åˆ (2-3 å°æ—¶)**:
- [ ] åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- [ ] é…ç½®ç¯å¢ƒå˜é‡æ¨¡æ¿
- [ ] æµ‹è¯•çŸ¥è¯†æ˜Ÿçƒ API (å¯é€‰)

### 13.2 å¼€å‘é˜¶æ®µ (Day 1-2: å‚è€ƒæŠ€æœ¯æ–¹æ¡ˆ)

**Day 1**: åç«¯å¼€å‘ + å‰ç«¯æ¡†æ¶æ­å»º
**Day 2**: å‰ç«¯åŠŸèƒ½å¼€å‘ + è”è°ƒæµ‹è¯•

### 13.3 éƒ¨ç½²é˜¶æ®µ (Day 3-4: å‚è€ƒéƒ¨ç½²æ‰‹å†Œ)

**Day 3**: æœåŠ¡å™¨é…ç½® + åç«¯éƒ¨ç½²
**Day 4**: å‰ç«¯éƒ¨ç½² + HTTPS é…ç½® + éªŒæ”¶æµ‹è¯•

---

## é™„å½•: å¿«é€Ÿæ£€æŸ¥å‘½ä»¤

**ä¸€é”®æ£€æŸ¥å¼€å‘ç¯å¢ƒ**:
```bash
echo "=== å¼€å‘ç¯å¢ƒæ£€æŸ¥ ==="
echo "Node.js: $(node -v)"
echo "npm: $(npm -v)"
echo "Git: $(git --version)"
echo "=== æ£€æŸ¥å®Œæˆ ==="
```

**ä¸€é”®æ£€æŸ¥æœåŠ¡å™¨ç¯å¢ƒ**:
```bash
echo "=== æœåŠ¡å™¨ç¯å¢ƒæ£€æŸ¥ ==="
echo "Node.js: $(node -v)"
echo "Nginx: $(nginx -v 2>&1)"
echo "PM2: $(pm2 --version)"
echo "Certbot: $(certbot --version)"
echo "=== æ£€æŸ¥å®Œæˆ ==="
```

---

**æ–‡æ¡£ç»“æŸ**

**ä¸‹ä¸€æ­¥**: å®Œæˆæœ¬æ¸…å•å,å¼€å§‹æ‰§è¡Œ `æŠ€æœ¯æ–¹æ¡ˆ-è¯¦ç»†ç‰ˆ.md` ä¸­çš„ **Day 1 ä»»åŠ¡**