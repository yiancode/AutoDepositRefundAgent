---
description: 并行评估多个文档（使用多个子代理）
model: sonnet
---

# 并行文档评估

使用 Task 工具并行启动多个子代理，同时评估多个文档。

## 执行步骤

### 步骤 1：读取评估指南和 SSOT

首先读取以下文件：
- `docs/v1/guides/dev-文档评估指南.md` - 获取待评估文档列表
- `docs/v1/design/状态枚举定义.md` - SSOT 标准

### 步骤 2：识别待评估文档

找出所有状态为 `⬜` 的文档，最多选择 3-4 个进行并行评估。

### 步骤 3：并行启动子代理

使用 Task 工具并行启动多个 Explore 子代理，每个负责评估一个文档：

```
并行任务 1: 评估 EP03-打卡数据同步.md
并行任务 2: 评估 EP04-身份匹配.md
并行任务 3: 评估 EP05-退款审核.md
```

**重要**：在单个消息中发起多个 Task 调用以实现真正的并行。

每个子代理的任务：
1. 读取目标文档
2. 对比 SSOT 检查一致性
3. 列出发现的问题
4. **不要修改文件**，只返回评估报告

### 步骤 4：收集评估结果

等待所有子代理完成，汇总评估报告：

```markdown
## 并行评估结果汇总

### EP03-打卡数据同步.md
- 发现问题: X 个
- 问题列表: ...

### EP04-身份匹配.md
- 发现问题: Y 个
- 问题列表: ...

### EP05-退款审核.md
- 发现问题: Z 个
- 问题列表: ...
```

### 步骤 5：串行修复

根据汇总的问题，**串行**修复每个文档（避免冲突）：
1. 修复 EP03
2. 修复 EP04
3. 修复 EP05

### 步骤 6：更新评估指南

一次性更新评估指南：
- 更新所有已评估文档的状态
- 添加所有发现的问题
- 添加所有修复记录
- 更新进度统计

### 步骤 7：统一提交

```bash
git add .
git commit -m "docs(v1): 并行评估EP03/EP04/EP05，统一修复状态枚举"
git push origin main
```

## 并行 vs 串行对比

| 方式 | 优点 | 缺点 |
|------|------|------|
| 串行 `/evaluate-next` | 简单可控，逐个审查 | 慢，需要多次操作 |
| 并行 `/evaluate-parallel` | 快，一次评估多个 | 上下文消耗大 |

## 注意事项

1. **上下文消耗**：并行评估会消耗更多上下文，建议每次最多 3-4 个文档
2. **冲突避免**：子代理只评估不修改，修复由主代理串行执行
3. **错误处理**：如果某个子代理失败，其他子代理继续执行

## 使用场景

- 剩余待评估文档较多时
- 上下文空间充足时
- 想要加速评估进度时

## 示例输出

```
🚀 启动并行评估 (3 个子代理)

⏳ 子代理 1: 评估 EP03-打卡数据同步.md...
⏳ 子代理 2: 评估 EP04-身份匹配.md...
⏳ 子代理 3: 评估 EP05-退款审核.md...

✅ 子代理 1 完成: 发现 2 个问题
✅ 子代理 2 完成: 发现 3 个问题
✅ 子代理 3 完成: 发现 1 个问题

📝 开始串行修复...
  - EP03: 已修复 ✅
  - EP04: 已修复 ✅
  - EP05: 已修复 ✅

📊 更新评估指南...
💾 提交并推送...

✅ 并行评估完成！
   评估文档: 3 个
   发现问题: 6 个
   已修复: 6 个
   耗时: ~2 分钟
```