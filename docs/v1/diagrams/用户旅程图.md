# 用户旅程图

> **文档版本**: v1.1
> **最后更新**: 2025-12-06
> **SSOT引用**: [状态枚举定义.md](../design/状态枚举定义.md) - 旅程中涉及的 bind_status、bind_method 状态值

本文档展示知识星球训练营自动押金退款系统的完整用户旅程。

---

## 一、会员端用户旅程（混合支付方案）

### 1.1 旅程概览（H5 主路径 - 推荐）

```mermaid
journey
    title 会员用户旅程 - H5 主路径（OAuth + 绑定，80%用户）
    section 发现阶段
      看到训练营海报: 5: 会员
      产生参与兴趣: 4: 会员
      点击H5报名链接: 5: 会员
    section 认证阶段
      跳转微信授权页: 3: 会员
      同意授权登录: 4: 会员
      首次需绑定星球: 3: 会员
      填写星球昵称和ID: 3: 会员
      验证并绑定成功: 5: 会员
    section 报名阶段
      浏览训练营详情: 4: 会员
      确认星球信息正确: 5: 会员
      完成微信支付: 4: 会员
      自动获取群二维码: 5: 会员
    section 进群阶段
      扫码加入群聊: 4: 会员
      阅读群公告: 3: 会员
      了解打卡规则: 4: 会员
    section 打卡阶段
      每日坚持打卡: 4: 会员
      查看打卡进度: 4: 会员
      收到打卡提醒: 3: 会员
    section 退款阶段
      训练营结束: 3: 会员
      系统生成退款申请: 5: 会员
      收到退款通知: 5: 会员
      确认退款到账: 5: 会员
```

### 1.2 旅程概览（降级路径 - 固定二维码）

```mermaid
journey
    title 会员用户旅程 - 降级路径（固定二维码，15%用户）
    section 发现阶段
      看到训练营海报: 5: 会员
      产生参与兴趣: 4: 会员
      扫描固定收款码: 4: 会员
    section 支付阶段
      完成微信支付: 4: 会员
      跳转绑定页面: 3: 会员
      填写星球ID和昵称: 2: 会员
      提交绑定信息: 3: 会员
      获取群二维码: 5: 会员
    section 进群阶段
      扫码加入群聊: 4: 会员
      阅读群公告: 3: 会员
      了解打卡规则: 4: 会员
    section 打卡阶段
      每日坚持打卡: 4: 会员
      查看打卡进度: 4: 会员
    section 退款阶段
      训练营结束: 3: 会员
      系统生成退款申请: 4: 会员
      收到退款通知: 5: 会员
```

### 1.3 旅程详情对比表

| 阶段 | 主路径（OAuth + 绑定） | 降级路径（固定二维码） | 情绪差异 |
|------|----------------------|---------------------|---------|
| **发现** | 点击 H5 链接 | 扫固定码 | 同 😊 |
| **认证** | OAuth 登录 + 绑定星球 | 无需登录 | 😐 vs 😊 |
| **支付** | 登录后一步完成 | 先支付后绑定 | 😊 vs 😟 |
| **绑定** | 支付前完成 | 支付后 7 天内完成 | 😊 vs 😐 |
| **进群** | 支付后自动显示 | 绑定后显示 | 同 😊 |
| **退款** | 100% 准确匹配 | 95% 准确匹配 | 😊 vs 🙂 |

### 1.4 会员端情绪曲线（对比）

```
主路径（OAuth + 绑定）:
5 ●───●─────────────────●───────────────────────────────●───●
  │   │                 │                               │   │
4 │   │     ●───────────┼───●───────────●───────────────┼───┼───
  │   │    ╱            │    ╲         ╱               │   │
3 │   │   ●             │     ╲       ●                 │   │
  │   │                 │                               │   │
  发现 点击 确认 支付 进群  打卡  坚持  结束  匹配  通知  到账

降级路径（固定二维码）:
5 ●───────────────────────────────────────────────────────●
  │                                                       │
4 │   ●─────────────────●───●───────────●─────────────────┼───
  │  ╱ ╲               │    ╲         ╱                   │
3 │ ●   ╲             ●     ╲       ●                     │
  │      ╲           ╱                                    │
2 │       ●─────────●                                     │
  发现 扫码 支付 绑定 填写 提交 进群 打卡 坚持 结束 匹配 到账
```

---

## 二、管理员用户旅程

### 2.1 旅程概览

```mermaid
journey
    title 管理员用户旅程 - 从创建到结算
    section 准备阶段
      创建训练营: 4: 管理员
      配置打卡要求: 4: 管理员
      生成报名链接: 5: 管理员
      发布训练营: 4: 管理员
    section 运营阶段
      监控报名情况: 4: 管理员
      处理进群问题: 3: 管理员
      查看打卡统计: 4: 管理员
      发送打卡提醒: 3: 管理员
    section 结算阶段
      生成退款名单: 4: 管理员
      审核匹配结果: 3: 管理员
      批量审核退款: 3: 管理员
      处理失败退款: 2: 管理员
    section 复盘阶段
      查看统计报表: 5: 管理员
      导出数据: 4: 管理员
      总结优化: 4: 管理员
```

### 2.2 旅程详情表

| 阶段 | 触点 | 任务 | 期望 | 情绪 | 痛点 | 机会点 |
|------|------|------|------|------|------|--------|
| **准备** | 管理后台 | 创建训练营 | 快速完成配置 | 😊 期待 | 配置项多 | 模板功能 |
| **运营** | 管理后台+群 | 监控+处理问题 | 减少人工介入 | 😐 忙碌 | 问题繁杂 | 自动化处理 |
| **结算** | 管理后台 | 审核退款 | 准确快速 | 😟 紧张 | 匹配错误 | 身份绑定自动化 |
| **复盘** | 管理后台 | 查看报表 | 数据清晰 | 😊 满足 | 维度不够 | 多维分析 |

---

## 三、关键触点设计（混合方案）

### 3.1 OAuth绑定报名页面

```
┌─────────────────────────────────────┐
│  ← 返回        训练营报名            │
├─────────────────────────────────────┤
│                                     │
│  ┌───────────────────────────────┐  │
│  │                               │  │
│  │     [训练营海报图片]           │  │
│  │                               │  │
│  └───────────────────────────────┘  │
│                                     │
│  21天早起打卡训练营                  │
│  押金: ¥99    打卡要求: 15/21天      │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  ✅ 已识别您的星球信息:              │
│                                     │
│  星球昵称                            │
│  ┌───────────────────────────────┐  │
│  │ 小明同学（已自动填写）          │  │
│  └───────────────────────────────┘  │
│                                     │
│  星球ID                              │
│  ┌───────────────────────────────┐  │
│  │ 123456789（已自动填写）        │  │
│  └───────────────────────────────┘  │
│                                     │
│  微信昵称（可选）                    │
│  ┌───────────────────────────────┐  │
│  │                               │  │
│  └───────────────────────────────┘  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │       确认并支付 ¥99 押金      │  │
│  └───────────────────────────────┘  │
│                                     │
│  💡 支付成功后将自动显示群二维码     │
└─────────────────────────────────────┘
```

### 3.2 支付后绑定页面（固定二维码用户）

```
┌─────────────────────────────────────┐
│                                     │
│          ✅ 支付成功!               │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  ⚠️ 请填写您的知识星球信息          │
│     以便后续退款                     │
│                                     │
│  订单号                              │
│  ┌───────────────────────────────┐  │
│  │ CAMP_1730000000_ABC123        │  │
│  └───────────────────────────────┘  │
│                                     │
│  支付金额                            │
│  ┌───────────────────────────────┐  │
│  │ ¥99.00                        │  │
│  └───────────────────────────────┘  │
│                                     │
│  星球ID *  [?如何获取]               │
│  ┌───────────────────────────────┐  │
│  │ 请输入您的星球用户ID           │  │
│  └───────────────────────────────┘  │
│                                     │
│  星球昵称 *                          │
│  ┌───────────────────────────────┐  │
│  │ 请输入您的星球昵称             │  │
│  └───────────────────────────────┘  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │      提交并获取群二维码        │  │
│  └───────────────────────────────┘  │
│                                     │
│  ⏰ 请在7天内完成绑定，否则需联系    │
│     管理员处理退款                   │
│                                     │
└─────────────────────────────────────┘
```

### 3.3 群二维码展示页

```
┌─────────────────────────────────────┐
│                                     │
│          ✅ 报名成功!               │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  恭喜您成功报名                      │
│  21天早起打卡训练营                  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │                               │  │
│  │                               │  │
│  │      [群二维码]               │  │
│  │                               │  │
│  │                               │  │
│  └───────────────────────────────┘  │
│                                     │
│  长按保存二维码，扫码加入训练营群    │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  📋 您的报名信息:                    │
│  · 星球昵称: 小明同学                │
│  · 星球ID: 123456789                │
│  · 押金金额: ¥99.00                 │
│                                     │
│  ┌───────────────────────────────┐  │
│  │       查看我的打卡进度         │  │
│  └───────────────────────────────┘  │
│                                     │
└─────────────────────────────────────┘
```

### 3.4 打卡进度页

```
┌─────────────────────────────────────┐
│  ← 返回        打卡进度             │
├─────────────────────────────────────┤
│                                     │
│  21天早起打卡训练营                  │
│  第 15 天 / 共 21 天                 │
│                                     │
│  ═════════════════════════════════  │
│  ████████████████░░░░░░░  71%       │
│  ═════════════════════════════════  │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  打卡统计                            │
│                                     │
│  已打卡        要求打卡       状态   │
│    12 天        15 天        🔴 差3天 │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  打卡日历                            │
│  ┌───┬───┬───┬───┬───┬───┬───┐    │
│  │ 一 │ 二 │ 三 │ 四 │ 五 │ 六 │ 日 │    │
│  ├───┼───┼───┼───┼───┼───┼───┤    │
│  │ ✓ │ ✓ │ ✓ │ ✓ │ ✓ │ ✓ │ ✓ │    │
│  ├───┼───┼───┼───┼───┼───┼───┤    │
│  │ ✓ │ ✓ │ ✗ │ ✓ │ ✓ │ ✗ │ ✓ │    │
│  ├───┼───┼───┼───┼───┼───┼───┤    │
│  │ ○ │   │   │   │   │   │   │    │
│  └───┴───┴───┴───┴───┴───┴───┘    │
│                                     │
│  ✓ 已打卡  ✗ 未打卡  ○ 今天          │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  退款状态: ⏳ 训练营进行中            │
│                                     │
└─────────────────────────────────────┘
```

---

## 四、关键时刻 (Moments of Truth)

### 4.1 真相时刻识别

| 时刻 | 触发点 | 用户期望 | 失败后果 | 设计对策 |
|------|--------|----------|----------|----------|
| **MOT1: 支付** | 点击支付按钮 | 3秒内跳转支付 | 放弃报名 | 预加载支付参数 |
| **MOT2: 进群** | 支付成功后 | 立即看到二维码 | 无法入群 | Webhook 实时处理 |
| **MOT3: 退款** | 训练营结束 | 24小时内收到 | 投诉/差评 | 自动化退款流程 |

### 4.2 情绪低谷处理

```mermaid
flowchart TD
    A[情绪低谷: 等待退款] --> B{提供透明度}
    B --> C[显示审核进度]
    B --> D[预计退款时间]
    B --> E[主动推送通知]
    C --> F[缓解焦虑]
    D --> F
    E --> F
    F --> G[情绪回升: 收到退款]
```

---

## 五、异常流程处理

### 5.1 支付异常

```mermaid
flowchart TD
    A[用户点击支付] --> B{支付结果}
    B -->|成功| C[显示群二维码]
    B -->|失败| D[显示错误信息]
    B -->|取消| E[返回报名页]
    D --> F{重试?}
    F -->|是| A
    F -->|否| E
    E --> G[保留已填信息]
```

### 5.2 匹配异常

```mermaid
flowchart TD
    A[生成退款名单] --> B{绑定状态}
    B -->|已绑定| C[自动加入退款列表]
    B -->|待绑定| D{是否超过7天}
    D -->|否| E[等待用户绑定]
    D -->|是| F[转人工审核]
    B -->|已过期/人工审核中| F
    F --> G[管理员审核]
    G --> H{审核结果}
    H -->|手动绑定| C
    H -->|无法匹配| I[标记已关闭]
```

---

## 六、体验优化建议

### 6.1 短期优化（1 个月内）

| 优化项 | 当前问题 | 优化方案 | 预期效果 |
|--------|----------|----------|----------|
| 表单预填 | 每次重新填写 | 记住上次填写的信息 | 报名时间 -50% |
| 进度可视化 | 纯文字描述 | 日历+进度条 | 用户满意度 +20% |
| 退款通知 | 无主动通知 | 企业微信推送 | 咨询量 -30% |

### 6.2 中期优化（3 个月内）

| 优化项 | 当前问题 | 优化方案 | 预期效果 |
|--------|----------|----------|----------|
| 智能提醒 | 无打卡提醒 | 每日定时提醒 | 完成率 +15% |
| 群二维码 | 固定二维码可能过期 | 动态生成+自动刷新 | 入群成功率 +10% |
| 多维报表 | 统计维度单一 | 时间/教练/项目多维 | 运营效率 +30% |

---

## 相关文档

- [业务流程图](./业务流程图.md)
- [时序图](./时序图.md)
- [状态机](./状态机.md)
- [架构设计图](./架构设计图.md)
- [状态枚举定义](../design/状态枚举定义.md)

---

**变更历史**：
| 版本 | 日期 | 变更内容 |
|------|------|----------|
| v1.1 | 2025-12-06 | 添加 SSOT 引用、版本信息、变更历史 |
| v1.0 | 2025-11-xx | 初始版本 |
