---
description: 批量评估所有待评估文档（带自动上下文管理）
model: sonnet
---

# 批量文档评估

这是一个批量评估命令，会连续评估所有待评估文档。

## 工作流程

```
循环开始
  ├─ 读取评估指南
  ├─ 找到下一个 ⬜ 状态的文档
  ├─ 如果没有待评估文档 → 结束
  ├─ 执行评估（参考 /evaluate-next）
  ├─ 修复问题
  ├─ 更新评估指南
  ├─ git commit && git push
  ├─ 输出进度
  └─ 继续下一个
```

## 执行步骤

### 1. 获取待评估文档列表

从 `docs/v1/guides/dev-文档评估指南.md` 读取所有 `⬜` 状态的文档。

### 2. 逐个评估

对每个文档执行：
1. 读取目标文档
2. 对比 SSOT (`docs/v1/design/状态枚举定义.md`)
3. 检查一致性问题
4. 修复问题
5. 更新评估指南
6. 提交推送

### 3. 进度报告

每完成一个文档，输出：
```
✅ 已完成: EP03-打卡数据同步.md (问题: 3, 修复: 3)
📊 总进度: 4/26
⏭️ 下一个: EP04-身份匹配.md
```

### 4. 上下文管理

**重要**：由于文档评估会消耗大量上下文，建议：
- 每评估 2-3 个文档后运行 `/compact`
- 或者使用 `/evaluate-next` 单个评估，手动控制节奏

## 注意事项

- 如果评估过程中遇到复杂问题，会暂停并请求确认
- 所有修改都会自动提交到 Git
- 评估顺序严格按照评估指南中定义的顺序

## 使用方式

```bash
# 方式1：单个评估（推荐）
/evaluate-next
# 完成后
/compact
# 继续
/evaluate-next

# 方式2：批量评估（需要足够上下文）
/evaluate-batch
```