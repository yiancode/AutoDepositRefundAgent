# 开发进度检查点索引

本目录记录项目开发过程中的所有进度检查点，用于版本追溯和进度管理。

## 检查点列表

| ID | 时间 | 描述 | 总进度 | 阶段 | 代码行数 |
|----|------|------|--------|------|----------|
| [checkpoint-20251204-v1-docs](./checkpoint-20251204-v1-docs.json) | 2025-12-04 | v1 文档重构 - 用户体系与支付绑定状态机优化 | 60% | 文档设计 | - |
| [checkpoint-20251128-025735](./checkpoint-20251128-025735.json) | 2025-11-28 02:57 | 完成管理后台原型所有页面交互功能 | 25% | 原型完成 | 14436 |
| [checkpoint-20251027-191718](./checkpoint-20251027-191718.json) | 2025-10-27 19:17 | Sprint 3 - 导出功能完成 + 单元测试集成 + 代码质量工具配置 | 70% | v0完成 | 3315 |
| [checkpoint-20251027-123307](./checkpoint-20251027-123307.json) | 2025-10-27 12:33 | Sprint 1.1 单元测试完成 | 50% | 100% | 100% | 0% | 0% | 1735 |
| [checkpoint-20251027-114114](./checkpoint-20251027-114114.json) | 2025-10-27 11:41 | Sprint 1.1 代码 CR 问题修复 | 45% | 100% | 100% | 0% | 0% | 978 |
| [checkpoint-20251027-072318](./checkpoint-20251027-072318.json) | 2025-10-27 07:23 | 初始化前后端骨架 | 10% | 100% | 0% | 0% | 0% | 334 |

## 如何使用

### 查看检查点详情

点击检查点 ID 查看完整的 JSON 文件，包含：
- Git 提交信息
- 代码统计
- 已完成任务
- 待办任务
- 环境配置
- 已知问题和解决方案

### 恢复到某个检查点

```bash
# 后端恢复
cd zsxq-api
git checkout <backend-commit>

# 前端恢复
cd zsxq-web
git checkout <frontend-commit>
```

### 创建新检查点

使用 Claude Code 指令：
```
/progress-save '检查点描述'
```

## 最新进度

**当前阶段**: v1 文档重构 (60% 完成)
**下一步**: 完成时序图智能匹配移除 → 移除动态二维码内容 → 整合 FastAuth

---

### v1 版本设计 (当前)

**关键设计决策**:
- 三表用户体系: `system_user` (管理员) + `wechat_user` (OAuth桥接) + `planet_user` (Excel导入)
- 两条互斥支付路径: H5主路径 vs 降级路径
- bind_method 仅支持: `h5_bindplanet`, `user_fill`, `manual`
- bind_status 状态: `pending`, `completed`, `expired`, `manual_review`, `closed`

**已完成**:
- ✅ 重新设计 planet_user 表（基于 Excel 导入）
- ✅ 明确 wechat_user + system_user + planet_user 三表关系
- ✅ 新增会员导入功能设计
- ✅ 更新状态机.md 绑定状态定义

**进行中**:
- 🔄 重新设计支付绑定状态机（移除智能匹配）
  - 目标文件: `docs/v1/diagrams/时序图.md`
  - Section 3.2 "智能匹配详细时序" - 需删除
  - Section 3.3 "匹配结果分类处理" - 需简化

**待完成**:
- ⏳ 移除废弃的动态二维码路径内容
- ⏳ 迁移 FastAuth 有效内容到技术方案
- ⏳ 补充前端路由设计
- ⏳ 补充错误码定义
- ⏳ 补充 returnUrl 白名单配置

---

### v0 版本 (已归档)

**已完成**:
- ✅ Sprint 0-3: 原型验证完成
- ✅ 单元测试: 22 个用例 100% 通过
- ✅ 代码覆盖率: 88%+

**阻塞项** (v0 遗留):
- ⏸️ 知识星球 API 分页限制 (75 人只能获取 21 人)
