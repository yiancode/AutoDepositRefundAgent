# 技术方案（精简版）

| **版本**     |            |
| ------------ | ---------- |
| **作者**     | XXXX       |
| **发布日期** | XXXX-XX-XX |

> **适用场景**：小型功能迭代、Bug 修复、简单优化等不涉及架构变更的需求。
>
> 如需详细方案，请使用 `技术方案模板.md`。

---

## 一、背景与目标

### 1.1 背景
> 简要描述需求背景，可附需求链接。



### 1.2 目标
> 本次迭代要达成的目标（1-3 条）。

- [ ] 目标1
- [ ] 目标2

### 1.3 非目标
> 本次迭代明确不做的内容。

- 不包含：XXX
- 暂不支持：YYY

### 1.4 验收标准
> 可量化的成功标准。

| 指标 | 目标值 | 验证方法 |
|------|--------|----------|
| 功能完整性 | 通过 | 测试用例 |
| 接口响应时间 | < 200ms | 压测 |

---

## 二、方案设计

### 2.1 整体思路
> 用 1-2 段话描述解决方案的核心思路。



### 2.2 技术方案
> 具体实现方案，可包含：
> - 架构/流程图
> - 关键代码逻辑
> - 数据结构变更

```
// 示例：关键流程伪代码
function process(input) {
    1. 参数校验
    2. 业务处理
    3. 返回结果
}
```

### 2.3 数据库变更（如有）
> DDL 脚本或表结构变更说明。

```sql
-- 示例
ALTER TABLE xxx ADD COLUMN yyy VARCHAR(50) COMMENT '说明';
```

### 2.4 接口变更（如有）
> 新增或修改的接口定义。

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/xxx | POST | 新增XXX功能 |

**请求参数**：
```
{
    "field1": "string, 必填, 说明",
    "field2": "number, 可��, 默认值"
}
```

**响应示例**：
```
{
    "code": 200,
    "message": "成功",
    "data": {}
}
```

---

## 三、风险与回滚

### 3.1 风险识别

| 风险 | 影响 | 应对措施 |
|------|------|----------|
| ... | ... | ... |

### 3.2 回滚方案
> 出现问题时的回滚步骤。

1. 切换流量/关闭开关
2. 回滚代码版本
3. 回滚数据变更（如有）
4. 验证回滚效果

---

## 四、测试要点

### 4.1 测试范围
- 正常场景：...
- 异常场景：...
- 边界场景：...

### 4.2 关键测试用例

| 场景 | 输入 | 预期输出 |
|------|------|----------|
| 正常流程 | ... | 成功 |
| 参数为空 | null | 400 错误 |

---

## 五、上线计划

### 5.1 上线依赖

| 依赖项 | 状态 | 负责人 |
|--------|------|--------|
| 配置变更 | 待完成 | XXX |
| 依赖服务 | 已完成 | XXX |

### 5.2 灰度计划

| 阶段 | 流量 | 观察时间 | 通过标准 |
|------|------|----------|----------|
| 灰度 | 10% | 1h | 错误率 < 0.1% |
| 全量 | 100% | - | 同上 |

---

## 六、参考资料

- 需求文档：[链接]
- 相关设计：[链接]

---

# 附录：AI 协作增强（可选）

> 使用 AI 编程助手时，补充以下信息可提高代码生成质量。

### 代码参考
| 场景 | 参考文件 |
|------|----------|
| 类似功能 | `path/to/example.js` |

### 接口契约
```
Request {
    field1: string    // 必填
    field2?: number   // 可选
}

Response {
    code: number
    data: {}
}
```

### 验收用例
```
// 用例1：正常场景
GIVEN: 参数合法
WHEN: 调用接口
THEN: 返回成功

// 用例2：异常场景
GIVEN: field1 为空
WHEN: 调用接口
THEN: 返回 400 错误
```

### 禁止事项
- ❌ 不要在 Controller 层写业务逻辑
- ❌ 不要硬编码配置值
- ❌ 不要忽略错误处理
